var A=Object.defineProperty,P=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var g=(t,e,s)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,y=(t,e)=>{for(var s in e||(e={}))p.call(e,s)&&g(t,s,e[s]);if(u)for(var s of u(e))E.call(e,s)&&g(t,s,e[s]);return t},h=(t,e)=>P(t,R(e));var b=(t,e)=>{var s={};for(var a in t)p.call(t,a)&&e.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&u)for(var a of u(t))e.indexOf(a)<0&&E.call(t,a)&&(s[a]=t[a]);return s};import{R as o,u as F,a as B,G as M,r as l,A as w,b as C,l as D,C as S,P as N,E as O,c as k}from"./vendor.6a4401ed.js";const G=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};G();const x="/disco_ball.gltf",j=o.forwardRef((r,a)=>{var n=r,{rotation:t,scale:e}=n,s=b(n,["rotation","scale"]);const c=F(M,x);return o.createElement("group",h(y({ref:a},s),{dispose:null}),o.createElement("primitive",{object:c.scene}))});B.preload(x);function q({position:t,minRadius:e,sound:s,rotationPerFrame:a=-.005}){const r=l.exports.useRef(null),n=l.exports.useRef(255);function c({sound:d}){const f=l.exports.useRef();return l.exports.useEffect(()=>{f.current=new w(d.current,256)},[d]),C(()=>{if(r.current&&(r.current.rotation.y+=a,f.current)){const v=f.current.getFrequencyData(),i=D.exports.mean(v.slice(0,8)),L=Math.max(i-n.current,0),m=e+L/1e4;r.current.scale.x=m,r.current.scale.y=m,r.current.scale.z=m,n.current=i<n.current&&i>0?i:n.current}}),o.createElement(o.Fragment,null)}return o.createElement(o.Fragment,null,o.createElement(j,{ref:r}),o.createElement(c,{sound:s}))}function z(){var r;const t=l.exports.useRef(),[e,s]=l.exports.useState(!1);function a(){var n,c;e?(n=t.current)==null||n.pause():(c=t.current)==null||c.play(),s(!e)}return l.exports.useEffect(()=>{var n,c;e||((n=t.current)==null?void 0:n.isPlaying)&&((c=t.current)==null||c.stop())},[e,(r=t.current)==null?void 0:r.isPlaying]),o.createElement("div",{className:"App"},o.createElement(S,null,o.createElement("ambientLight",{intensity:1}),o.createElement(l.exports.Suspense,{fallback:null},o.createElement(N,{url:"/ColoursAndLights.mp3",distance:10,ref:t}),o.createElement(q,{position:[0,0,-10],minRadius:.015,sound:t}),o.createElement(O,{preset:"night",background:!0}))),o.createElement("button",{"aria-label":"play",className:"toggleMusicBtn",onClick:a},e?"Pause":"Play"))}class I extends o.Component{constructor(e){super(e);this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error(e,s)}render(){return this.state.hasError?o.createElement("h1",null,"Something went wrong."):this.props.children}}k.render(o.createElement(o.StrictMode,null,o.createElement(I,null,o.createElement(z,null))),document.getElementById("root"));
