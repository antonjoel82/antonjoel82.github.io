var P=Object.defineProperty,w=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var b=(t,e,n)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g=(t,e)=>{for(var n in e||(e={}))h.call(e,n)&&b(t,n,e[n]);if(p)for(var n of p(e))x.call(e,n)&&b(t,n,e[n]);return t},L=(t,e)=>w(t,B(e));var y=(t,e)=>{var n={};for(var a in t)h.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&p)for(var a of p(t))e.indexOf(a)<0&&x.call(t,a)&&(n[a]=t[a]);return n};import{R as o,u as R,a as C,G as D,r as l,A as F,b as M,l as S,c as O,d as N,e as _,m as k,C as G,f as A,E as T,O as j,g as q}from"./vendor.27af45a6.js";const z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};z();const v="/disco_ball.gltf",I=o.forwardRef((s,a)=>{var r=s,{rotation:t,scale:e}=r,n=y(r,["rotation","scale"]);const i=R(D,v);return o.createElement("group",L(g({ref:a},n),{dispose:null}),o.createElement("primitive",{object:i.scene}))});C.preload(v);function H({position:t,minRadius:e,sound:n,rotationPerFrame:a=-.005}){const s=l.exports.useRef(null),r=l.exports.useRef(255);function i({sound:d}){const u=l.exports.useRef();return l.exports.useEffect(()=>{u.current=new F(d.current,256)},[d]),M(()=>{if(s.current&&(s.current.rotation.y+=a,u.current)){const m=u.current.getFrequencyData(),f=S.exports.mean(m.slice(0,8)),c=Math.max(f-r.current,0),E=e+c/1e4;s.current.scale.x=E,s.current.scale.y=E,s.current.scale.z=E,r.current=f<r.current&&f>0?f:r.current}}),o.createElement(o.Fragment,null)}return o.createElement(o.Fragment,null,o.createElement(I,{ref:s}),o.createElement(i,{sound:n}))}const K=l.exports.forwardRef((r,s)=>{var i=r,{url:t,distance:e=1,loop:n=!0}=i,a=y(i,["url","distance","loop"]);const d=l.exports.useRef(),u=O(({camera:c})=>c),[m]=l.exports.useState(()=>new N),f=R(_,t);return l.exports.useEffect(()=>{const c=d.current;c&&(c.setBuffer(f),c.setRefDistance(e),c.setLoop(n),a.autoplay&&!c.isPlaying&&c.play())},[f,u,e,n]),l.exports.useEffect(()=>{const c=d.current;return u.add(m),()=>{u.remove(m),c&&(c.isPlaying&&c.stop(),c.source&&c.source._connected&&c.disconnect())}},[]),l.exports.createElement("positionalAudio",g({ref:k([d,s]),args:[m]},a))});function U(){const t=l.exports.useRef(null),[e,n]=l.exports.useState(!1);function a(){const r=t.current;r&&(e?(r.setRefDistance(2e3),r.pause()):r.play(),n(!e))}l.exports.useEffect(()=>{var r,i;((r=t.current)==null?void 0:r.isPlaying)&&!e&&((i=t.current)==null||i.stop())},[e,t.current]);const s=()=>{var r;(r=t.current)==null||r.stop(),n(!1)};return o.createElement("div",{className:"App"},o.createElement(G,null,o.createElement("ambientLight",{intensity:.2}),o.createElement("directionalLight",{position:[-8,-15,3],intensity:50,color:new A("#e4a215")}),o.createElement("directionalLight",{position:[8,-15,3],intensity:50,color:new A("#f11616")}),o.createElement(l.exports.Suspense,{fallback:null},o.createElement(K,{url:"/ColoursAndLights.mp3",distance:10,loop:!1,ref:t,autoplay:!1,onEnded:s}),o.createElement(H,{position:[0,0,-10],minRadius:.015,sound:t}),o.createElement(T,{files:"HankPainting.hdr",background:!0}),o.createElement(j,{enablePan:!0,enableZoom:!0,enableRotate:!0}))),o.createElement("button",{"aria-label":"play",className:"toggleMusicBtn",onClick:a},e?"Pause":"Play"))}class Z extends o.Component{constructor(e){super(e);this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error(e,n)}render(){return this.state.hasError?o.createElement("h1",null,"Something went wrong."):this.props.children}}q.render(o.createElement(o.StrictMode,null,o.createElement(Z,null,o.createElement(U,null))),document.getElementById("root"));
