var v=Object.defineProperty,P=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var L=(r,e,n)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,g=(r,e)=>{for(var n in e||(e={}))h.call(e,n)&&L(r,n,e[n]);if(m)for(var n of m(e))x.call(e,n)&&L(r,n,e[n]);return r},b=(r,e)=>P(r,w(e));var y=(r,e)=>{var n={};for(var a in r)h.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&m)for(var a of m(r))e.indexOf(a)<0&&x.call(r,a)&&(n[a]=r[a]);return n};import{R as o,u as A,a as B,G as F,r as l,A as M,b as D,l as S,c as C,d as N,e as O,m as _,C as k,E as G,f as T}from"./vendor.f3c100fd.js";const j=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};j();const R="/disco_ball.gltf",q=o.forwardRef((t,a)=>{var s=t,{rotation:r,scale:e}=s,n=y(s,["rotation","scale"]);const u=A(F,R);return o.createElement("group",b(g({ref:a},n),{dispose:null}),o.createElement("primitive",{object:u.scene}))});B.preload(R);function z({position:r,minRadius:e,sound:n,rotationPerFrame:a=-.005}){const t=l.exports.useRef(null),s=l.exports.useRef(255);function u({sound:d}){const i=l.exports.useRef();return l.exports.useEffect(()=>{i.current=new M(d.current,256)},[d]),D(()=>{if(t.current&&(t.current.rotation.y+=a,i.current)){const p=i.current.getFrequencyData(),f=S.exports.mean(p.slice(0,8)),c=Math.max(f-s.current,0),E=e+c/1e4;t.current.scale.x=E,t.current.scale.y=E,t.current.scale.z=E,s.current=f<s.current&&f>0?f:s.current}}),o.createElement(o.Fragment,null)}return o.createElement(o.Fragment,null,o.createElement(q,{ref:t}),o.createElement(u,{sound:n}))}const I=l.exports.forwardRef((s,t)=>{var u=s,{url:r,distance:e=1,loop:n=!0}=u,a=y(u,["url","distance","loop"]);const d=l.exports.useRef(),i=C(({camera:c})=>c),[p]=l.exports.useState(()=>new N),f=A(O,r);return l.exports.useEffect(()=>{const c=d.current;c&&(c.setBuffer(f),c.setRefDistance(e),c.setLoop(n),a.autoplay&&!c.isPlaying&&c.play())},[f,i,e,n]),l.exports.useEffect(()=>{const c=d.current;return i.add(p),()=>{i.remove(p),c&&(c.isPlaying&&c.stop(),c.source&&c.source._connected&&c.disconnect())}},[]),l.exports.createElement("positionalAudio",g({ref:_([d,t]),args:[p]},a))});function K(){const r=l.exports.useRef(null),[e,n]=l.exports.useState(!1);function a(){const t=r.current;t&&(e?t.pause():t.play(),n(!e))}return l.exports.useEffect(()=>{var t,s;((t=r.current)==null?void 0:t.isPlaying)&&!e&&((s=r.current)==null||s.stop())},[e,r.current]),o.createElement("div",{className:"App"},o.createElement(k,null,o.createElement("ambientLight",{intensity:1}),o.createElement(l.exports.Suspense,{fallback:null},o.createElement(I,{url:"/ColoursAndLights.mp3",distance:10,loop:!1,ref:r,autoplay:!1}),o.createElement(z,{position:[0,0,-10],minRadius:.015,sound:r}),o.createElement(G,{preset:"night",background:!0}))),o.createElement("button",{"aria-label":"play",className:"toggleMusicBtn",onClick:a},e?"Pause":"Play"))}class U extends o.Component{constructor(e){super(e);this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error(e,n)}render(){return this.state.hasError?o.createElement("h1",null,"Something went wrong."):this.props.children}}T.render(o.createElement(o.StrictMode,null,o.createElement(U,null,o.createElement(K,null))),document.getElementById("root"));
